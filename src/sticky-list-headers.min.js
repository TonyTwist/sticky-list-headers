var swlStickyListHeadersProto=Object.create(HTMLDivElement.prototype,{createdCallback:{value:function(){this.cache={ui:{timer:null,lastExecThrottle:100,lastExec:new Date}},this.createShadowRoot(),this.shadowRoot.resetStyleInheritance=!1,this.shadowRoot.applyAuthorStyles=!0,this.shadowRoot.appendChild(document.createElement("content")),this.swlHeaderSelector=this.getAttribute("selector"),this.addEventListener("scroll",function(){this.scroll()}.bind(this)),window.addEventListener("resize",this.checkWindowSize.bind(this))}},attachedCallback:{value:function(){var t=Array.prototype.slice.call(this.shadowRoot.querySelectorAll("div:not(content)"));t.forEach(function(t){t.parentNode.removeChild(t)}.bind(this)),this.swlHeaders=Array.prototype.slice.call(this.querySelectorAll(this.swlHeaderSelector)),this.swlHeaders.forEach(function(t){var e=t.getAttribute("style")||"";-1!=e.indexOf("opacity:")&&(t.style.opacity="");var s=document.createElement("div");s.appendChild(this.cloneMassive(t)),t.style.hasOwnProperty("opacity")?t.style.opacity=0:t.setAttribute("style",e+"opacity:0;");var e="position: absolute; width: 100%;";e+=" top: "+t.offsetTop+"px;",s.setAttribute("style",e),s.setAttribute("data-offset-top",""),this.shadowRoot.appendChild(s)}.bind(this))}},attributeChangedCallback:{value:function(t){"selector"==t&&this.rebuild()}}});swlStickyListHeadersProto.checkWindowSize=function(){if(!this.cache)return!1;var t=new Date;return t-this.cache.ui.lastExec<this.cache.ui.lastExecThrottle?(this.cache.ui.timer&&window.clearTimeout(this.cache.ui.timer),this.cache.ui.timer=window.setTimeout(this.checkWindowSize,this.cache.ui.lastExecThrottle),!1):(this.cache.ui.lastExec=t,this.calculateOffsets(),void 0)},swlStickyListHeadersProto.calculateOffsets=function(){this.swlHeaders.forEach(function(t,e){var s=this.shadowRoot.querySelectorAll("div[data-offset-top]")[e];s.setAttribute("data-offset-top",t.offsetTop),t.offsetTop>t.parentNode.scrollTop&&(s.style.top=t.offsetTop+"px")}.bind(this))},swlStickyListHeadersProto.scroll=function(){this.swlHeaders.length<this.querySelectorAll(this.swlHeaderSelector).length&&this.attachedCallback(),this.shadowRoot.querySelectorAll('div[data-offset-top=""]').length>0&&this.calculateOffsets(),this.swlHeaders.forEach(function(t,e){var s=this.shadowRoot.children[e+1],o=this.shadowRoot.children[e+2],i=this.shadowRoot.children[e];s.offsetTop<=this.scrollTop?(s.style.top=this.scrollTop+"px",o?s.offsetTop+s.offsetHeight>=parseInt(o.getAttribute("data-offset-top"))&&(s.style.top=o.offsetTop-s.offsetHeight+"px"):s.style.top=this.scrollTop+"px"):(s.offsetTop>parseInt(s.getAttribute("data-offset-top"))&&(s.offsetTop>=parseInt(i.getAttribute("data-offset-top"))+i.offsetHeight||"CONTENT"==i.tagName)&&(s.style.top=this.scrollTop+"px"),s.offsetTop<parseInt(s.getAttribute("data-offset-top"))&&(s.style.top=parseInt(s.getAttribute("data-offset-top"))+"px"))}.bind(this))},swlStickyListHeadersProto.scrollToElement=function(t){var e=t.currentStyle||window.getComputedStyle(t),s=this.getHeaderOfElement(t);if(s){var o=s.currentStyle||window.getComputedStyle(s);t.parentNode.scrollTop=t.offsetTop-s.offsetHeight-parseInt(e.marginTop)-parseInt(o.marginTop)}else t.parentNode.scrollTop=t.offsetTop-parseInt(e.marginTop)},swlStickyListHeadersProto.getHeaderOfElement=function(t){for(var e=Array.prototype.slice.call(t.parentNode.children),s=0;s<this.swlHeaders.length;s++)if(e.indexOf(this.swlHeaders[s])>e.indexOf(t))return this.swlHeaders[s-1];return null},swlStickyListHeadersProto.rebuild=function(){this.swlHeaderSelector=this.getAttribute("selector"),this.attachedCallback()},swlStickyListHeadersProto.refresh=function(){this.calculateOffsets()},swlStickyListHeadersProto.cloneMassive=function(t){var e=t.cloneNode(!1);e.hasOwnProperty("swlOriginal")||Object.defineProperty(e,"swlOriginal",{value:t}),e.hasOwnProperty("swlListeners")||Object.defineProperty(e,"swlListeners",{value:[]}),t.hasOwnProperty("swlClone")||Object.defineProperty(t,"swlClone",{value:e});var s=t.__proto__.addEventListener;t.addEventListener=function(o,i,r){var a=i.bind(t);return e.swlListeners.push({listener:i,binded:a,type:o}),s.call(e,o,a,r)};var o=t.__proto__.removeEventListener;t.removeEventListener=function(t,s,i){for(var r=s,a=0;a<e.swlListeners.length;a++)e.swlListeners[a].type===t&&e.swlListeners[a].listener===s&&(r=e.swlListeners[a].binded);return o.call(e,t,r,i)};for(var i=0;i<t.childNodes.length;i++)e.appendChild(this.cloneMassive(t.childNodes[i]));return e};var SwlStickyListHeaders=document.registerElement("swl-sticky-list-headers",{prototype:swlStickyListHeadersProto,"extends":"div"});
!function(){var t=Object.create(HTMLDivElement.prototype,{createdCallback:{value:function(){this.cache={ui:{timer:null,lastExecThrottle:100,lastExec:new Date}},this.createShadowRoot(),this.shadowRoot.appendChild(document.createElement("content")),this.swlHeaderSelector=this.getAttribute("selector"),this.addEventListener("scroll",function(){this.scroll()}.bind(this)),window.addEventListener("resize",this.checkWindowSize.bind(this))}},attachedCallback:{value:function(){var t=Array.prototype.slice.call(this.shadowRoot.querySelectorAll("div:not(content)"));t.forEach(function(t){t.parentNode.removeChild(t)}.bind(this)),this.swlHeaders=Array.prototype.slice.call(this.querySelectorAll(this.swlHeaderSelector)),this.swlHeaders.forEach(function(t){t.parentNode;var e=t.getAttribute("style")||"";-1!=e.indexOf("opacity:")&&(t.style.opacity="");var o=document.createElement("div");o.appendChild(t.cloneNode(!0)),t.setAttribute("style",e+"opacity:0;");var e="position: absolute; width: 100%;";e+=" top: "+t.offsetTop+"px;",o.setAttribute("style",e),o.setAttribute("data-offset-top",""),this.shadowRoot.appendChild(o)}.bind(this))}},attributeChangedCallback:{value:function(t){"selector"==t&&(this.swlHeaderSelector=this.getAttribute("selector"),this.attachedCallback())}}});t.checkWindowSize=function(){if(!this.cache)return!1;var t=new Date;return t-this.cache.ui.lastExec<this.cache.ui.lastExecThrottle?(this.cache.ui.timer&&window.clearTimeout(this.cache.ui.timer),this.cache.ui.timer=window.setTimeout(this.checkWindowSize,this.cache.ui.lastExecThrottle),!1):(this.cache.ui.lastExec=t,this.calculateOffsets(),void 0)},t.calculateOffsets=function(){this.swlHeaders.forEach(function(t,e){var o=this.shadowRoot.querySelectorAll("div[data-offset-top]")[e];o.setAttribute("data-offset-top",t.offsetTop),t.offsetTop>t.parentNode.scrollTop&&(o.style.top=t.offsetTop+"px")}.bind(this))},t.scroll=function(){this.swlHeaders.length<this.querySelectorAll(this.swlHeaderSelector).length&&this.attachedCallback(),this.shadowRoot.querySelectorAll('div[data-offset-top=""]').length>0&&this.calculateOffsets(),this.swlHeaders.forEach(function(t,e){var o=t.parentNode,s=this.shadowRoot.children[e+1],i=this.shadowRoot.children[e+2],a=this.shadowRoot.children[e];s.offsetTop<=o.scrollTop?(s.style.top=o.scrollTop+"px",i?s.offsetTop+s.offsetHeight>=parseInt(i.getAttribute("data-offset-top"))&&(s.style.top=i.offsetTop-s.offsetHeight+"px"):s.style.top=o.scrollTop+"px"):(s.offsetTop>parseInt(s.getAttribute("data-offset-top"))&&(s.offsetTop>=parseInt(a.getAttribute("data-offset-top"))+a.offsetHeight||"CONTENT"==a.tagName)&&(s.style.top=o.scrollTop+"px"),s.offsetTop<parseInt(s.getAttribute("data-offset-top"))&&(s.style.top=parseInt(s.getAttribute("data-offset-top"))+"px"))}.bind(this))},t.scrollToElement=function(t){var e=t.currentStyle||window.getComputedStyle(t),o=this.getHeaderOfElement(t);if(o){var s=o.currentStyle||window.getComputedStyle(o);t.parentNode.scrollTop=t.offsetTop-o.offsetHeight-parseInt(e.marginTop)-parseInt(s.marginTop)}else t.parentNode.scrollTop=t.offsetTop-parseInt(e.marginTop)},t.getHeaderOfElement=function(t){for(var e=Array.prototype.slice.call(t.parentNode.children),o=0;o<this.swlHeaders.length;o++)if(e.indexOf(this.swlHeaders[o])>e.indexOf(t))return this.swlHeaders[o-1];return null},document.registerElement("swl-sticky-list-headers",{prototype:t,"extends":"div"})}();